<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Задачи | Портфолио</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/tasks.css">
    <link rel="stylesheet" href="../../css/common-styles.css">

</head>
<body>
    <!-- Фон и оверлей -->
    <div class="background-image"></div>
    <div class="green-overlay"></div>
    
    <!-- Верхняя панель -->
    <header class="top-panel tasks-header">
        <!-- Левая часть: логотип -->
        <div class="panel-left">
            <a href="index.html" class="logo">
                <i class="fas fa-home"></i>
                <span class="logo-text">Портфолио</span>
            </a>
        </div>
        
        <!-- Центральная часть: статистика -->
        <div class="panel-center">
            <div class="tasks-stats">
                <div class="stat-item">
                    <span class="stat-label">Впереди</span>
                    <span class="stat-value" id="tasks-count">0</span>
                    <span class="stat-label">задач</span>
                </div>
                <span class="stat-separator">•</span>
                <div class="stat-item">
                    <span class="stat-label">Дедлайн:</span>
                    <span class="stat-value" id="nearest-deadline">—</span>
                </div>
            </div>
        </div>
        
        <!-- Правая часть: пользователь -->
        <div class="panel-right">
            <div class="user-section">
                <div class="user-icon" id="user-menu-btn" title="Профиль пользователя">
                    <i class="fas fa-user-circle fa-2x"></i>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Основное содержимое -->
    <main class="main-content main-container">
        <!-- Левая панель с действиями -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3><i class="fas fa-list"></i> Фильтры</h3>
                <button class="sidebar-btn active" data-filter="all">
                    <i class="fas fa-tasks"></i> Все задачи
                </button>
                <button class="sidebar-btn" data-filter="today">
                    <i class="fas fa-calendar-day"></i> Сегодня
                </button>
                <button class="sidebar-btn" data-filter="week">
                    <i class="fas fa-calendar-week"></i> На неделе
                </button>
                <button class="sidebar-btn" data-filter="overdue">
                    <i class="fas fa-exclamation-circle"></i> Просроченные
                </button>
            </div>
            
            <div class="sidebar-section">
                <h3><i class="fas fa-folder"></i> Папки</h3>
                <div id="folders-list">
                    <!-- Папки будут добавляться через JS -->
                    <div class="folder-item">
                        <i class="fas fa-folder"></i>
                        <span>Математика</span>
                        <span class="folder-count">2</span>
                    </div>
                </div>
                <button class="sidebar-btn" id="new-folder-btn">
                    <i class="fas fa-plus"></i> Новая папка
                </button>
            </div>
            
            <div class="sidebar-section">
                <h3><i class="fas fa-cog"></i> Действия</h3>
                <button class="sidebar-btn primary" id="new-task-btn">
                    <i class="fas fa-plus-circle"></i> Создать задачу
                </button>
                <button class="sidebar-btn" id="show-calendar-btn">
                    <i class="fas fa-calendar-alt"></i> Календарь
                </button>
                <button class="sidebar-btn" id="sort-tasks-btn">
                    <i class="fas fa-sort-amount-down"></i> Сортировка
                </button>
            </div>
        </aside>
        
        <!-- Основная рабочая область -->
        <section class="workspace">
            <!-- Панель управления списком -->
            <div class="workspace-header">
                <div class="sort-options">
                    <span>Сортировка:</span>
                    <select id="sort-select">
                        <option value="deadline">По сроку сдачи</option>
                        <option value="created">По дате создания</option>
                        <option value="name">По названию</option>
                        <option value="priority">По приоритету</option>
                    </select>
                </div>
                <div class="view-options">
                    <button class="view-btn active" data-view="list">
                        <i class="fas fa-list"></i>
                    </button>
                    <button class="view-btn" data-view="grid">
                        <i class="fas fa-th-large"></i>
                    </button>
                </div>
            </div>
            
            <!-- Список задач -->
            <div class="common-container tasks-container" id="tasks-container">
                <!-- Задачи будут добавляться через JS -->
                
                <!-- Пример задачи -->
                <div class="task-item" data-id="1">
                    <div class="task-checkbox">
                        <input type="checkbox" id="task-1">
                    </div>
                    <div class="task-main">
                        <div class="task-header">
                            <h4 class="task-title">Выполнить задание №23</h4>
                            <div class="task-meta">
                                <span class="task-folder">
                                    <i class="fas fa-folder"></i> Математика
                                </span>
                                <span class="task-deadline">
                                    <i class="fas fa-calendar"></i> 7 ноября
                                </span>
                                <span class="task-priority priority-high">
                                    <i class="fas fa-flag"></i> Высокий
                                </span>
                            </div>
                        </div>
                        <div class="task-description">
                            Решить задачи по математическому анализу, страницы 45-48...
                        </div>
                    </div>
                    <div class="task-actions">
                        <button class="task-btn edit-btn">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="task-btn delete-btn">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Пример папки с задачами -->
                <div class="folder-task-item" data-id="folder-1">
                    <div class="folder-task-header">
                        <i class="fas fa-folder-open"></i>
                        <h4>Математика</h4>
                        <span class="folder-deadline">
                            Ближайший: 7 ноября
                        </span>
                        <span class="folder-stats">
                            2 задачи, 1 просрочена
                        </span>
                    </div>
                    <div class="folder-task-content">
                        <!-- Вложенные задачи будут здесь -->
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Модальное окно календаря -->
    <div class="modal-overlay" id="calendar-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-calendar-alt"></i> Календарь дедлайнов</h3>
                <button class="modal-close" id="close-calendar-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="calendar-placeholder">
                    Календарь загружается...
                </div>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно создания/редактирования задачи -->
    <div class="modal-overlay" id="task-modal">
        <div class="modal-content">
            <!-- Содержимое будет добавляться через JS -->
        </div>
    </div>
    
    <!-- Подвал -->
    <footer class="footer">
        <div class="footer-content-left">
            <p>Система портфолио • 2025 • Разработано в учебных целях</p>
        </div>
        <div class="footer-content-right">
            <p>Контактные данные:  kayahan81@yandex.ru • github/kayahan81</p>
        </div>
    </footer>
    
    <!-- Подключаем JS -->
    <script src="../../javascript/app.js"></script>
    <script src="../../javascript/tasks.js"></script>
</body>
</html>